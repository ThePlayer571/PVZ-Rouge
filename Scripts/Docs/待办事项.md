
- [ ] `=====当前大任务=====`
- [ ] 新关卡：坑
- [ ] HumanLadder的weight选择：更高的人梯更高的weight
- [ ] 可以利用控梯子做一个关（让僵尸不要在某个地方放梯子）
- [ ] 主菜单
  
    - [ ] 关卡游玩记录
    
	- [ ] 植物图鉴
      
      - [ ] 图鉴数据
      - [ ] 鼠标放在View上，会显示数据
    - [ ] 关卡图鉴
    
    
- [ ] 新参数：常规强度僵尸数量，关卡bgm id
- [ ] 重复测试同一关的强度，看难度如何设置合理

    - [ ] 经验：难度主要看阳光上限
    - [ ] 花盆:总阳光比
    - [ ] 接下来研究：各难度适宜的系数
- [ ] 剩余的bgm
- [ ] （可能并不存在这个问题）初始加载植物问题
- [ ] 重构AISystem

    - [ ] 支持更多的僵尸
    - [ ] 僵尸随机生成（要配置初始生成数据，但我不知道有哪些数据）
- [ ] 完整的一章流程：两个难度
- [ ] 每关都应该给金币
- [ ] 彻底解决樱桃炸弹bug
- [ ] 僵尸从新的出怪点出来，会发出怪叫
- [ ] boss战
- [ ] 在发布游戏前，记得把DEBUG难度删了
- [ ] 背景着色器


- [ ] ===============
- [ ] 长崎素世流汗和生气表情包
- [ ] `=====Main=====`
- [ ] fmod许可证
- [ ] 投手细节
- [ ] 总会有墓碑点不动：碰撞体初始化问题
- [ ] 2K屏幕下uI黑边有问题：QF set resolution
- [ ] 买了plantbook的Card会在商店中一直刷出
- [ ] `=====需要注意的=====`
- [ ] 旧的Light2D可能找不到新建的SortingLayer
- [ ] 戴夫被咬死瞬间切换至AllEnemyKilled 可能造成堵塞
- [ ] `=====新植物/内容=====`
- [ ] 冰锥秘籍：寒冰射手
- [ ] `=========延后任务==========`
- [ ] 游戏结算的时候一定要考虑养成剩余物资的事情
- [ ] 僵尸显示黄油/冰冻特效的方案
- [ ] 读报僵尸被freeze不会生气，会发一个问号
- [ ] 植物sortingLayer改进。南瓜分成两半，一半在前，一半在后.植物应该在僵尸之前（因为窝瓜）
- [ ] Effect使僵尸变色
- [ ] 玩家秘籍套件：
- [ ] （等画师找到后）(等到关卡信息的数据配置完善后)关卡预览界面显示信息：关卡名；时间（emoji+id），天气（emoji+id）；关卡预览图；包含僵尸；开始按钮 

  
  - [ ] 卡牌背景体现稀有度
  - [ ] 玩家找不到迷宫地图U
  - [ ] 墓碑生成画面表现 / 墓碑僵尸出来的画面表现
  - [ ] 睡莲上的植物位置不对
  - [ ] 僵尸的恒定出怪点会一直有个超级墓碑：显示还有多少波出怪
  - [ ] 剩余的音频
  - [ ] Award触发了button的bug（显示bug）
  - [ ] 僵尸View初状态不应该是Empty
- [ ] 智慧树：教会玩家教高端的操作/幽默
- [ ] 
- [ ] 豌豆大师徽章：高级豌豆种植在低级豌豆上，省阳光
- [ ] 豌豆盆栽：手持一个小豌豆射手，能攻击僵尸
- [ ] 毁灭菇秘籍：开局就有准备时间（用于开局破坏地形）
- [ ] 地牢设计：黑暗（发光地衣），僵尸眨眨眼，苔藓可种植植物
- [ ] 花园设计：花 只能种植在花盆上
- [ ] 地刺扎脚会让僵尸向上跳
- [ ] 解决MazeMapController的史山(或许可以用Node作为基础数据结构)
- [ ] tip系统：玩家初次获得某某东西时，在MazeMap时候会显示一个侧边tip
- [ ] 如果一关会掉落相同植物的两个秘籍，可能在同一个槽位里出两个秘籍，bug
- [ ] 关卡配置：地图生成算法支持
- [ ] 如果有关底boss，旗子会变
- [ ] 成就：一次性铲除n个植物。花盆的递归
- [ ] 植物：有一个固定的attack damage，没耗尽，子弹不会消失
- [ ] `=====多周目=====`
- [ ] 战利品/战损 > 1，玉米卷难度越高战利品越好（构建统一方案）
- [ ] `=====ZombieAISystem=====`
- [ ] AI：一格高的支持（测试）
- [ ] 僵尸会跑酷
- [ ] Rebake的api更合理


- [ ] `=====阶段任务=====`

- [ ] 完成主流程（第一章）

  - [x] 做完所有特殊（水，夜晚，雨天特效）
  - [ ] 做完所有植物和僵尸
  - [ ] 制作僵尸难度配置方案
  - [ ] 重新配置所有关卡
  
  



```
帮我拓展编辑器：
我想做个数据分析工具，将存储的json文件按一定格式导出为表格文件(csv)。
这个json文件是由WhenLevelEndedInfo序列化得到的。
工作流：
1. 我选择文件夹和一个特定的LevelDef，然后选择指定的位置存储csv文件
2. 扫描该文件夹和子文件夹的所有文件（已知都是WhenLevelEndedInfo），找到符合被选择的LevelDef的所有内容，将这些内容导出为csv
3. csv文件的名称是现在的时间，我可以选择性地只导出部分内容（这部分内容我会在导出之前选择好）。选择方式是：我在eidtor内对WhenLevelEndedInfo的各个字段打勾打叉(toggle)，被选择的字段导出，可以被选择的字段包括这几个：【LevelDef，maxValue，comments，pass，earncoins】；我之后会添加可选项，因此你要做好注释：之后我想添加该怎么做。格式：第一列必须是文件名，后面的列是我选择导出的内容；所有enum按string导出

请明确地标注工作流，以便其他人使用
```

| OnTriggerEnter2D | OnCollisionEnter2D | CollisonMatrix | A.include | B.include | A.RigidBody | B.RigidBody | A.IsTrigger | B.IsTrigger | 说明 |
| ---------------- | ------------------ | -------------- | --------- | --------- | ----------- | ----------- | ----------- | ----------- | ---- |
| T                | F                  | T              | T         | T         | Dynamic     | Dynamic     | T           | T           | 只会触发 OnTriggerEnter2D，两者都是 Trigger 且有 Rigidbody |
| T                | F                  | T              | T         | T         | Dynamic     | Dynamic     | T           | F           | 至少一个 Trigger，触发 OnTriggerEnter2D |
| T                | F                  | T              | T         | T         | Dynamic     | Dynamic     | F           | T           | 至少一个 Trigger，触发 OnTriggerEnter2D |
| F                | T                  | T              | T         | T         | Dynamic     | Dynamic     | F           | F           | 都不是 Trigger，触发 OnCollisionEnter2D |
| F                | F                  | F              | T         | T         | Dynamic     | Dynamic     | 任意        | 任意        | Layer 矩阵关闭，不触发任何回调 |
| F                | F                  | T              | F         | T         | Dynamic     | Dynamic     | 任意        | 任意        | A 未启用，不触发任何回调 |
| F                | F                  | T              | T         | F         | Dynamic     | Dynamic     | 任意        | 任意        | B 未启用，不触发任何回调 |
| F                | F                  | T              | F         | F         | Dynamic     | Dynamic     | 任意        | 任意        | 都未启用，不触发任何回调 |
| F                | F                  | T              | T         | T         | Static      | Static      | 任意        | 任意        | 都是 Static（或无 Rigidbody），不会触发任何 2D 回调 |
| F                | F                  | T              | T         | T         | null        | null        | 任意        | 任意        | 都无 Rigidbody，等同于 Static，不触发回调 |
| T                | F                  | T              | T         | T         | Kinematic   | Dynamic     | T           | F           | Kinematic 和 Dynamic 至少一个 Rigidbody，且有 Trigger，触发 OnTriggerEnter2D |
| F                | T                  | T              | T         | T         | Kinematic   | Dynamic     | F           | F           | 都不是 Trigger，触发 OnCollisionEnter2D |
| T                | F                  | T              | T         | T         | Kinematic   | Kinematic   | T           | T           | 只会触发 OnTriggerEnter2D，Kinematic 支持触发器 |
| F                | T                  | T              | T         | T         | Kinematic   | Kinematic   | F           | F           | Kinematic 支持碰撞，触发 OnCollisionEnter2D |
| F                | F                  | T              | T         | T         | Static      | Dynamic     | T           | F           | Static + Dynamic，至少一个 Trigger 才能触发回调，否则 Dynamic 需要有 Rigidbody |
| T                | F                  | T              | T         | T         | Static      | Dynamic     | T           | F           | Static + Dynamic，且 Static 是 Trigger，可以触发 OnTriggerEnter2D |
| F                | T                  | T              | T         | T         | Static      | Dynamic     | F           | F           | Static 不是 Trigger，Dynamic 不是 Trigger，触发 OnCollisionEnter2D |
| F                | F                  | T              | T         | T         | Kinematic   | Static      | 任意        | 任意        | Kinematic + Static，只有 Kinematic 是 Trigger 时才触发 OnTriggerEnter2D，否则不触发 |
| T                | F                  | T              | T         | T         | Kinematic   | Static      | T           | F           | Kinematic 是 Trigger，Static 不是，触发 OnTriggerEnter2D |
| F                | T                  | T              | T         | T         | Kinematic   | Static      | F           | F           | 都不是 Trigger，不触发（Kinematic + Static 无碰撞响应） |
| F                | F                  | T              | T         | T         | null        | Dynamic     | 任意        | 任意        | Static + Dynamic，规则同上 |

